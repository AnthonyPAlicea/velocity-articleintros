(function(){function i(){$(document).on("touchmove","body",function(e){e.preventDefault()})}function s(){$(document).off("touchmove","body")}var e=false;var t=false;var n=-1;var r=$("article > div").attr("data-side-width");i();var o=function(){var u=$(this).scrollTop();if(u>5||t){if(!e){e=true;window.clearInterval(n);var a=$("body").attr("data-articleintro");if(!a||a==""){alert("Missing 'data-articleintro' attribute from the <body> tag")}if(a=="push"){$("div.header-img").velocity({translateY:"-80%",opacity:0,scale:.9},{duration:800,queue:false,easing:[.7,0,.3,1]})}if(a=="jam"){$("div.header-img").velocity({translateY:"-75%",opacity:.3},{duration:500,queue:false,easing:"ease-out"})}if(a=="side"){$("article > div").css("width","50%");$("article > div").velocity({translateX:"-25%"},{duration:0});$("div.header-img").velocity({translateX:"70%"},{duration:500,easing:[.7,0,.3,1]});if(!r||r==""){alert("To use the side effect you need to set a data-side-width attribute on the article <div>.\n\nOtherwise we don't know what width to return the content to later.")}}$("article").velocity({translateY:"-200px",opacity:1},{duration:500,queue:false,delay:200,complete:function(){if(t){$(document).scrollTop(2)}s();t=false}});$("#chooseEffect").velocity({opacity:0});n=setInterval(o,100)}}else if(u<=1){if(e){window.clearInterval(n);$("article").velocity({translateY:"200px",opacity:0},{duration:400,queue:false,easing:"ease-out"});var a=$("body").attr("data-articleintro");if(a=="push"){$("div.header-img").velocity({translateY:"0",opacity:1,scale:1},{duration:700,queue:false,easing:[.7,0,.3,1]})}if(a=="jam"){$("div.header-img").velocity({translateX:"0",translateY:"0",scale:1,opacity:1},{duration:700,queue:false,easing:[.7,0,.3,1]})}if(a=="side"){$("div.header-img").velocity({translateX:"0"},{duration:700,delay:200,queue:false,easing:[.7,0,.3,1],complete:function(){$("article > div").css("width",r)}});$("article > div").velocity({translateX:"0"},{duration:800,queue:false})}e=false;$("#chooseEffect").velocity({opacity:1});n=setInterval(o,100);i()}}};n=setInterval(o,100);$(document).on("touchmove","body > header",function(){if($(window).scrollTop()==0&&!t&&!e){t=true;o()}})})()